{% extends 'base.html.twig' %}

{% block title %}Hello LoginController!{% endblock %}

{% block body %}
    {% if error %}
        <div>{{ error.messageKey|trans(error.messageData, 'security') }}</div>
    {% endif %}

    <div class="login_img">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 140 160" xml:space="preserve" class="white "> <g class="emblem"> <path d="M74.9,76.8c-1.2-0.4-3.2-0.5-4.9,0.9c-1.7-1.4-3.7-1.3-4.9-0.9c-1,0.4-1.8,0.6-3.3,0.6c1.5,3,4.6,5.1,8.2,5.1 c3.6,0,6.7-2.1,8.2-5.1C76.7,77.4,75.9,77.1,74.9,76.8z"></path> <path d="M70,0C45.3,0,25.2,20,25.2,44.7c0,21.2,14.7,38.9,34.5,43.6C44,79.9,37.6,60.6,45.2,44.5 c1.2,6.4,5.4,12.1,11.6,15C48.7,40.6,54.7,18.3,71.4,6C68.1,17.2,73.1,27.5,84,35.3c12.4,8.9,12.9,27.1,2,36.9 c4.3-1,8.4-3.4,11.4-7.1c-1.9,9.6-7.9,18.3-17.1,23.2c19.8-4.6,34.5-22.4,34.5-43.6C114.8,20,94.7,0,70,0z"></path> </g> <g class="paris2024"><title>Paris 2024</title> <path d="M137.9 103.9v4.6c-1-.7-2.3-.9-3.4-1.6-.9-.5-1.2-1.5-1.2-2.5v-4.2h-2.2v4.2c0 1.4.4 2.9 1.6 3.8.8.6 1.7.9 2.6 1.2.8.3 1.7.6 2.2 1.3.4.5.5 1.1.5 1.8v1.3h2.1v-9.9h-2.2zM122.6 107.6c.5-.6 1-1.2 1.3-1.9.3-.7.4-1.4.3-2.1-.2-1.4-1.2-2.6-2.5-3.1-1.3-.6-3-.6-4.3.1-1.3.6-2.2 1.9-2.3 3.3-.1 1.5.6 2.8 1.8 3.7l1.2-1.5c-.4-.4-.8-.9-.9-1.5-.1-.6 0-1.1.4-1.6.7-.9 2.1-1.2 3.2-.7.5.3 1 .7 1.1 1.2.2.6.1 1.2-.1 1.7-.3.5-.6 1-1 1.5-1.5 1.8-2.9 3.5-4.4 5.3-.5.6-1 1.3-1.6 1.9h9.8V112H119l3.6-4.4zM106.1 109c-.8 1.9-2.9 3.2-5 3-2.1-.1-3.9-1.6-4.5-3.5-.6-2 .1-4.2 1.8-5.5 1.7-1.3 4.1-1.3 5.9-.1 2 1.3 2.8 3.9 1.8 6.1zm.5-7c-2.2-2.1-5.6-2.6-8.3-1.4-2.8 1.2-4.4 4.1-4.2 7 .3 2.9 2.5 5.4 5.4 6.1 2.9.7 6.2-.3 7.9-2.8 1.8-2.4 1.7-5.8-.1-8.2-.2-.2-.5-.4-.7-.7zM86.1 107.6c.5-.6 1-1.2 1.3-1.9.3-.7.4-1.4.3-2.1-.2-1.4-1.2-2.6-2.5-3.1-1.3-.6-3-.6-4.3.1-1.3.6-2.2 1.9-2.3 3.3-.1 1.5.6 2.8 1.8 3.7l1.2-1.5c-.4-.4-.8-.9-.9-1.5-.1-.6 0-1.1.4-1.6.7-.9 2.1-1.2 3.2-.7.5.3 1 .7 1.1 1.2.2.6.1 1.2-.1 1.7-.3.5-.6 1-1 1.5-1.5 1.8-2.9 3.5-4.4 5.3l-1.6 1.9h9.8V112h-5.6l3.6-4.4zM65.9 107.3c-.8-.6-1.7-.9-2.6-1.3-.9-.3-1.8-.6-2.5-1.3-.6-.6-.4-1.6.1-2.2.6-.6 1.6-.7 2.4-.5.9.3 1.5 1.1 1.5 2H67c0-1-.3-1.9-1-2.7-.7-.7-1.6-1.1-2.6-1.3-1-.1-2.1 0-3 .5-.9.5-1.6 1.2-1.9 2.1-.3.9-.2 2 .2 2.8.5.9 1.4 1.4 2.4 1.8 1 .4 2.2.7 3.2 1.3.4.3.7.6.8 1 .1.4.1.9-.1 1.3-.5 1-1.8 1.3-2.8 1.1-1.1-.2-2-1.1-2-2.3h-2.1c0 1.1.4 2.1 1.2 2.9.8.8 1.9 1.2 3.1 1.3 1.2.1 2.4-.1 3.4-.8.9-.6 1.5-1.6 1.6-2.6-.1-1.1-.5-2.3-1.5-3.1zM49.2 103.3v10.5h2.2V103c-.8 0-1.5.1-2.2.3zM49.2 102.1c.7-.2 1.4-.3 2.2-.3v-1.6h-2.2v1.9zM36.8 102.2c1.4 0 2.8.7 2.9 2.1.1.7-.1 1.4-.6 1.9-.5.6-1.3.9-2 1.3-.9.4-1.7.8-2.5 1.5v-6.8h2.2zm3.3 6.5c-.2-.1-.5-.2-.8-.3.7-.4 1.4-.8 1.9-1.4.4-.6.7-1.2.8-1.9.2-1.5-.3-2.9-1.6-3.8-1.7-1.2-3.8-1-5.8-1h-2.1v13.6h2.2v-1.2c0-.9.5-1.8 1.3-2.2.8-.5 1.9-.5 2.7-.2.8.4 1.4 1.2 1.5 2 .1.5 0 1.1 0 1.6h2.2c0-.7 0-1.5-.1-2.2-.3-1.3-1.1-2.4-2.2-3zM23 108.7c-1.3-1.3-3.2-1.7-5-1.4v-2.2c0-.4 0-.8.1-1.2.2-.8.8-1.4 1.6-1.6.8-.3 1.7-.1 2.4.4s1 1.3 1 2.1V109c0-.2-.1-.3-.1-.3zm0-8.1c-1.9-1-4.6-.7-6 .9-.7.8-1.1 1.8-1.1 2.8v9.5H18v-4.5c1.3-.2 2.7 0 3.8.7 1 .7 1.4 1.7 1.4 2.8v.9h2.2v-9.1c-.1-1.6-.8-3.2-2.4-4zM6.9 106c-.5.7-1.4 1.2-2.2 1.6-.9.4-1.8.9-2.5 1.5v-6.8h2.1c1.2 0 2.4.3 2.9 1.5.2.6.1 1.5-.3 2.2zm.1-5.2c-1-.5-2.2-.5-3.3-.5H0v13.6h2.2c0-.8-.1-1.6.3-2.3.5-1.2 1.8-1.7 2.9-2.2 1.2-.6 2.5-1.1 3.3-2.2.7-1 .9-2.2.7-3.4-.2-1.4-1.2-2.5-2.4-3z"></path> </g></svg>
    </div>

    <div class ="login">
        <script defer>
            document.addEventListener('DOMContentLoaded', () => {
                function backend() {
                    let backend = document.getElementById('backend').value;
                    console.log('Backend();')
                    if (backend === "admin") {
                        document.getElementById('adminjs').setAttribute('value', '/admin');
                        document.getElementById('b1').click();
                    }else if (backend === "referee"){
                        document.getElementById('adminjs').setAttribute('value', '/referee');
                        document.getElementById('b1').click();
                    }
                }

                document.getElementById("login-button").addEventListener('click', () => {
                    backend();
                })
            })
        </script>

        <form action="{{ path('app_login') }}" method="post">
            <div class="inputs">
                <div>
                    <label for="username">E-Mail:</label>
                    <input type="text" id="username" name="_username" value="{{ last_username }}">
                </div>
                <div>
                    <label for="password">Password:</label>
                    <input type="password" id="password" name="_password">
                </div>
                <div>
                    <label for="backend">Environment:</label>
                    <select name="backend" id="backend">
                        <option value="admin">Admin</option>
                        <option value="referee">Referee</option>
                    </select>
                </div>
            </div>


            <input id="adminjs" type="hidden" name="_target_path" value="">
            <button style="display: none" id="b1" type="submit">I am a ghost!</button>


            <div class="buttondiv">
                <button id="login-button">Login</button>
            </div>


        </form>
    </div>

{% endblock %}
